# NanopolishComp 0.2.0 package documentation

---

**Python package for upstream preprocessing and downstream analysis of nanopolish**

---

* Author: Adrien Leger - aleg {at} ebi.ac.uk
* URL: https://github.com/a-slide/NanopolishComp
* Licence: MIT
* Python version: >=3.3

# Installation

Ideally, before installation, create a clean python3 virtual environment to deploy the package, using virtualenvwrapper for example (see http://www.simononsoftware.com/virtualenv-tutorial-part-2/).

## Required python packages:

[Nanopolish 0.10+](https://github.com/jts/nanopolish) is required to generate the files used by  several commands from this package

All python dependencies are automatically installed with pip

## Installation with pip

Ideally, before installation, create a clean python3 virtual environment to deploy the package, using virtualenvwrapper for example (see http://www.simononsoftware.com/virtualenv-tutorial-part-2/).

* To install the package

    ```pip3 install git+https://github.com/a-slide/NanopolishComp.git```
   
* To update the package:

    ```pip3 install git+https://github.com/a-slide/NanopolishComp.git --upgrade```

## Command list

* **Eventalign_collapse**
This program collapses the raw file generated by *nanopolish eventalign* by kmers rather than by event.

the *kmer_mean* and  *kmer_std* are computed with a weighted average of the events of each kmer. The following fields are discarded: *strand, event_index, model_kmer, model_mean, model_stdv, standardized_level, samples*

If using the *--signal-index* option the *start_idx* and *end_idx* are updated to correspond to the entire kmer signal.

## Usage

The package has a command line interface and a Python API.

The usage is detailed in the [usage jupyter notebook](https://github.com/a-slide/NanopolishComp/blob/master/tests/NanopolishComp_usage.ipynb) 